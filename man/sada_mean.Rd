% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sada_mean.R
\name{sada_mean}
\alias{sada_mean}
\title{SADA estimator for the outcome mean}
\usage{
sada_mean(Y, Yhat_labeled, Yhat_unlabeled, level = 0.95)
}
\arguments{
\item{Y}{Numeric vector of outcomes for the labeled data.}

\item{Yhat_labeled}{Numeric matrix or data frame of predictions for the
labeled observations. Each column corresponds to a black-box predictor.}

\item{Yhat_unlabeled}{Numeric matrix or data frame of predictions for the
unlabeled observations. Must have the same number of columns as
\code{Yhat_labeled}.}

\item{level}{Confidence level for the interval. Must be a number between
zero and one. The default is 0.95.}
}
\value{
A list containing:
\describe{
\item{est}{Point estimate of the outcome mean.}
\item{sd}{Estimated standard deviation of the estimator.}
\item{ci}{A numeric vector of length two giving the lower and upper
bounds of a confidence interval at the requested \code{level}.}
\item{ci_length}{Length of the confidence interval.}
\item{w_opt}{Estimated optimal aggregation weight vector.}
}
}
\description{
Implements SADA for the marginal outcome mean using labeled and unlabeled
data with multiple black-box predictions. A normal-approximation confidence
interval is also returned.
}
\examples{
set.seed(123)

# Parameters
theta <- 0.5
gamma <- 0.7
n <- 60
N <- 200

# Generate outcome Y for the labeled data
Y_gt <- rnorm(N, mean = theta, sd = 1)
Y <- Y_gt[1:n]

# Generate two black-box predictions for all data
eps1 <- rnorm(N, 0, 1)
eps2 <- rnorm(N, 0, 1)

yh1 <- gamma * Y_gt + (1 - gamma) * eps1
yh2 <- (1 - gamma) * Y_gt + gamma * eps2

Yhat_full <- cbind(yh1, yh2)

# Split into labeled and unlabeled predictions
Yhat_labeled <- Yhat_full[1:n, ]
Yhat_unlabeled <- Yhat_full[(n + 1):N, ]

# Apply SADA estimator
result <- sada_mean(Y, Yhat_labeled, Yhat_unlabeled)
result$est
result$ci

}
